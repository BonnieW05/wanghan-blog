{{- if .Params.ShowShareButtons | default .Site.Params.ShowShareButtons | default true }}
<div class="share-buttons">
  <h4>分享这篇文章：</h4>
  <div class="share-buttons-list">
    <!-- 微信分享 -->
    <a href="javascript:void(0)" onclick="shareToWeChat()" class="share-btn wechat" title="分享到微信">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M8.5 12.5c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm7 0c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z"/>
        <path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12c0 1.7.4 3.3 1.2 4.7L2 22l5.3-1.2c1.4.8 3 1.2 4.7 1.2 5.5 0 10-4.5 10-10S17.5 2 12 2zm0 18c-1.7 0-3.3-.4-4.7-1.2L4 20.3l1.5-3.3C4.9 15.3 4 13.7 4 12c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8z"/>
      </svg>
      微信
    </a>
    
    <!-- 微博分享 -->
    <a href="https://service.weibo.com/share/share.php?url={{ .Permalink | urlquery }}&title={{ .Title | urlquery }}" target="_blank" class="share-btn weibo" title="分享到微博">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
        <path fill="currentColor" d="M8.5 8.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5zm4 0c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5z"/>
      </svg>
      微博
    </a>
    
    <!-- QQ分享 -->
    <a href="https://connect.qq.com/widget/shareqq/index.html?url={{ .Permalink | urlquery }}&title={{ .Title | urlquery }}&summary={{ .Summary | urlquery }}" target="_blank" class="share-btn qq" title="分享到QQ">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"/>
        <path fill="currentColor" d="M8.5 8.5c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5zm4 0c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5z"/>
      </svg>
      QQ
    </a>
    
    <!-- 复制链接 -->
    <a href="javascript:void(0)" onclick="copyToClipboard('{{ .Permalink }}')" class="share-btn copy" title="复制链接">
      <svg viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
      </svg>
      复制链接
    </a>
  </div>
</div>

<style>
.share-buttons {
  margin: 20px 0;
  padding: 15px;
  background: var(--code-bg);
  border-radius: 8px;
  border: 1px solid var(--border);
}

.share-buttons h4 {
  margin: 0 0 10px 0;
  font-size: 14px;
  color: var(--secondary);
}

.share-buttons-list {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.share-btn {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 8px 12px;
  background: var(--theme);
  color: var(--primary);
  text-decoration: none;
  border-radius: 6px;
  font-size: 12px;
  transition: all 0.2s ease;
  border: 1px solid var(--border);
}

.share-btn:hover {
  background: var(--hljs-bg);
  transform: translateY(-1px);
}

.share-btn.wechat:hover { background: #07c160; color: white; }
.share-btn.weibo:hover { background: #e6162d; color: white; }
.share-btn.qq:hover { background: #12b7f5; color: white; }
.share-btn.copy:hover { background: var(--accent); color: white; }
</style>

<script>
function shareToWeChat() {
  // 简单的微信分享提示
  alert('请复制链接后在微信中分享：\n' + window.location.href);
}

function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(function() {
    alert('链接已复制到剪贴板！');
  }, function(err) {
    // 降级方案
    const textArea = document.createElement('textarea');
    textArea.value = text;
    document.body.appendChild(textArea);
    textArea.select();
    document.execCommand('copy');
    document.body.removeChild(textArea);
    alert('链接已复制到剪贴板！');
  });
}
</script>
{{- end }}
