<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/wanghan-blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=wanghan-blog/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Web开发完整指南：从入门到精通 | 王涵的个人博客</title>
<meta name="keywords" content="Web开发, 前端, 后端, 全栈, 教程">
<meta name="description" content="一份全面的Web开发学习指南，涵盖前端、后端、数据库、部署等各个方面，适合初学者和进阶开发者">
<meta name="author" content="王涵">
<link rel="canonical" href="http://localhost:1313/wanghan-blog/posts/tech-notes/web-development-complete-guide/">
<link crossorigin="anonymous" href="/wanghan-blog/assets/css/stylesheet.ec0eed2bf94806890b571398026dfb59f7162a6a17369f42b39568030495d1c6.css" integrity="sha256-7A7tK/lIBokLVxOYAm37WfcWKmoXNp9Cs5VoAwSV0cY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/wanghan-blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/wanghan-blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/wanghan-blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/wanghan-blog/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/wanghan-blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="http://localhost:1313/wanghan-blog/posts/tech-notes/web-development-complete-guide/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="referrer" content="no-referrer-when-downgrade">
<style>
    :root {
        --footer-height: 80px
    }
</style><meta property="og:url" content="http://localhost:1313/wanghan-blog/posts/tech-notes/web-development-complete-guide/">
  <meta property="og:site_name" content="王涵的个人博客">
  <meta property="og:title" content="Web开发完整指南：从入门到精通">
  <meta property="og:description" content="一份全面的Web开发学习指南，涵盖前端、后端、数据库、部署等各个方面，适合初学者和进阶开发者">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-03T15:30:00+08:00">
    <meta property="article:modified_time" content="2024-09-03T15:30:00+08:00">
    <meta property="article:tag" content="Web开发">
    <meta property="article:tag" content="前端">
    <meta property="article:tag" content="后端">
    <meta property="article:tag" content="全栈">
    <meta property="article:tag" content="教程">
      <meta property="og:image" content="http://localhost:1313/wanghan-blog/avatar.jpeg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/wanghan-blog/avatar.jpeg">
<meta name="twitter:title" content="Web开发完整指南：从入门到精通">
<meta name="twitter:description" content="一份全面的Web开发学习指南，涵盖前端、后端、数据库、部署等各个方面，适合初学者和进阶开发者">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/wanghan-blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Web开发完整指南：从入门到精通",
      "item": "http://localhost:1313/wanghan-blog/posts/tech-notes/web-development-complete-guide/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Web开发完整指南：从入门到精通",
  "name": "Web开发完整指南：从入门到精通",
  "description": "一份全面的Web开发学习指南，涵盖前端、后端、数据库、部署等各个方面，适合初学者和进阶开发者",
  "keywords": [
    "Web开发", "前端", "后端", "全栈", "教程"
  ],
  "articleBody": "Web开发完整指南：从入门到精通 Web开发是一个充满挑战和机遇的领域。随着互联网的快速发展，Web应用已经成为我们日常生活中不可或缺的一部分。本指南将带你从零开始，逐步掌握现代Web开发的核心技能。\n目录概览 本指南将涵盖以下主要内容：\nWeb开发基础概念 前端开发技术栈 后端开发技术栈 数据库设计与优化 版本控制与协作 部署与运维 性能优化策略 安全最佳实践 现代开发工具链 职业发展建议 第一章：Web开发基础 1.1 什么是Web开发？ Web开发是指创建和维护网站或Web应用程序的过程。它通常分为两个主要部分：\n前端开发（Frontend）\n负责用户界面和用户体验 处理用户交互和视觉呈现 主要技术：HTML、CSS、JavaScript 后端开发（Backend）\n负责服务器端逻辑和数据处理 管理数据库和API 主要技术：各种编程语言和框架 1.2 Web开发的历史演进 Web开发经历了多个重要的发展阶段：\n静态网页时代（1990s）\n简单的HTML页面 静态内容展示 有限的交互性 动态网页时代（2000s）\n服务器端脚本语言兴起 数据库集成 更丰富的交互体验 现代Web应用时代（2010s至今）\n单页应用（SPA）流行 前后端分离架构 移动优先设计 云原生应用 1.3 现代Web开发的特点 响应式设计\n适配各种设备尺寸 移动优先的开发理念 灵活的布局系统 组件化开发\n可复用的UI组件 模块化的代码组织 提高开发效率 性能优化\n快速加载时间 优化的资源管理 用户体验优先 第二章：前端开发技术栈 2.1 HTML基础 HTML（超文本标记语言）是Web开发的基础，它定义了网页的结构和内容。\nHTML5新特性\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"zh-CN\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003e现代Web应用\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cheader\u003e \u003cnav\u003e \u003cul\u003e \u003cli\u003e\u003ca href=\"#home\"\u003e首页\u003c/a\u003e\u003c/li\u003e \u003cli\u003e\u003ca href=\"#about\"\u003e关于\u003c/a\u003e\u003c/li\u003e \u003cli\u003e\u003ca href=\"#contact\"\u003e联系\u003c/a\u003e\u003c/li\u003e \u003c/ul\u003e \u003c/nav\u003e \u003c/header\u003e \u003cmain\u003e \u003csection id=\"hero\"\u003e \u003ch1\u003e欢迎来到现代Web世界\u003c/h1\u003e \u003cp\u003e探索无限可能的Web开发技术\u003c/p\u003e \u003c/section\u003e \u003carticle\u003e \u003ch2\u003e最新技术趋势\u003c/h2\u003e \u003cp\u003eWeb开发正在快速发展...\u003c/p\u003e \u003c/article\u003e \u003c/main\u003e \u003cfooter\u003e \u003cp\u003e\u0026copy; 2024 Web开发指南\u003c/p\u003e \u003c/footer\u003e \u003c/body\u003e \u003c/html\u003e 语义化标签的重要性\n提高可访问性 改善SEO效果 便于维护和理解 2.2 CSS样式设计 CSS（层叠样式表）负责网页的视觉呈现和布局设计。\n现代CSS特性\n/* CSS Grid布局 */ .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; padding: 2rem; } /* Flexbox布局 */ .navbar { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); } /* CSS变量 */ :root { --primary-color: #667eea; --secondary-color: #764ba2; --text-color: #333; --bg-color: #f8f9fa; } /* 响应式设计 */ @media (max-width: 768px) { .container { grid-template-columns: 1fr; padding: 1rem; } .navbar { flex-direction: column; gap: 1rem; } } CSS预处理器\nSass/SCSS：变量、嵌套、混入 Less：类似Sass的功能 PostCSS：现代CSS处理工具 2.3 JavaScript编程 JavaScript是现代Web开发的核心，它使网页具有交互性和动态性。\nES6+新特性\n// 箭头函数和模板字符串 const greetUser = (name) =\u003e { return `欢迎, ${name}! 今天是 ${new Date().toLocaleDateString()}`; }; // 解构赋值 const user = { name: '张三', age: 25, city: '北京' }; const { name, age, city } = user; // 异步编程 async function fetchUserData(userId) { try { const response = await fetch(`/api/users/${userId}`); const userData = await response.json(); return userData; } catch (error) { console.error('获取用户数据失败:', error); throw error; } } // 模块化 export class UserService { constructor(apiUrl) { this.apiUrl = apiUrl; } async getUsers() { const response = await fetch(`${this.apiUrl}/users`); return response.json(); } } 现代JavaScript框架\nReact：组件化UI库 Vue.js：渐进式框架 Angular：企业级框架 Svelte：编译时优化 2.4 前端构建工具 包管理器\n# npm npm install react react-dom npm run build # yarn yarn add react react-dom yarn build # pnpm pnpm add react react-dom pnpm build 构建工具\nWebpack：模块打包器 Vite：快速构建工具 Parcel：零配置构建工具 Rollup：库打包工具 第三章：后端开发技术栈 3.1 服务器端编程语言 Node.js\n// Express.js示例 const express = require('express'); const app = express(); const port = 3000; // 中间件 app.use(express.json()); app.use(express.static('public')); // 路由 app.get('/api/users', async (req, res) =\u003e { try { const users = await User.findAll(); res.json(users); } catch (error) { res.status(500).json({ error: error.message }); } }); app.post('/api/users', async (req, res) =\u003e { try { const user = await User.create(req.body); res.status(201).json(user); } catch (error) { res.status(400).json({ error: error.message }); } }); app.listen(port, () =\u003e { console.log(`服务器运行在 http://localhost:${port}`); }); Python\n# Flask示例 from flask import Flask, request, jsonify from flask_sqlalchemy import SQLAlchemy app = Flask(__name__) app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///users.db' db = SQLAlchemy(app) class User(db.Model): id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(80), nullable=False) email = db.Column(db.String(120), unique=True, nullable=False) @app.route('/api/users', methods=['GET']) def get_users(): users = User.query.all() return jsonify([{ 'id': user.id, 'name': user.name, 'email': user.email } for user in users]) @app.route('/api/users', methods=['POST']) def create_user(): data = request.get_json() user = User(name=data['name'], email=data['email']) db.session.add(user) db.session.commit() return jsonify({'id': user.id, 'name': user.name, 'email': user.email}), 201 if __name__ == '__main__': app.run(debug=True) 其他语言\nJava：Spring Boot框架 C#：ASP.NET Core Go：Gin、Echo框架 PHP：Laravel、Symfony Ruby：Ruby on Rails 3.2 API设计原则 RESTful API设计\n// RESTful路由设计 GET /api/users // 获取所有用户 GET /api/users/:id // 获取特定用户 POST /api/users // 创建新用户 PUT /api/users/:id // 更新用户信息 DELETE /api/users/:id // 删除用户 // 响应格式标准化 { \"success\": true, \"data\": { \"id\": 1, \"name\": \"张三\", \"email\": \"zhangsan@example.com\" }, \"message\": \"操作成功\" } GraphQL\n# Schema定义 type User { id: ID! name: String! email: String! posts: [Post!]! } type Post { id: ID! title: String! content: String! author: User! } type Query { user(id: ID!): User users: [User!]! post(id: ID!): Post posts: [Post!]! } type Mutation { createUser(name: String!, email: String!): User! updateUser(id: ID!, name: String, email: String): User! deleteUser(id: ID!): Boolean! } 3.3 微服务架构 服务拆分原则\n单一职责原则 数据独立性 技术栈多样性 独立部署能力 容器化部署\n# Dockerfile示例 FROM node:18-alpine WORKDIR /app COPY package*.json ./ RUN npm ci --only=production COPY . . EXPOSE 3000 CMD [\"npm\", \"start\"] # docker-compose.yml version: '3.8' services: web: build: . ports: - \"3000:3000\" environment: - NODE_ENV=production - DATABASE_URL=postgresql://user:pass@db:5432/mydb depends_on: - db db: image: postgres:15 environment: - POSTGRES_DB=mydb - POSTGRES_USER=user - POSTGRES_PASSWORD=pass volumes: - postgres_data:/var/lib/postgresql/data volumes: postgres_data: 第四章：数据库设计与优化 4.1 关系型数据库 SQL基础\n-- 创建表 CREATE TABLE users ( id SERIAL PRIMARY KEY, name VARCHAR(100) NOT NULL, email VARCHAR(255) UNIQUE NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); -- 插入数据 INSERT INTO users (name, email) VALUES ('张三', 'zhangsan@example.com'), ('李四', 'lisi@example.com'); -- 查询数据 SELECT u.name, u.email, COUNT(p.id) as post_count FROM users u LEFT JOIN posts p ON u.id = p.user_id WHERE u.created_at \u003e '2024-01-01' GROUP BY u.id, u.name, u.email ORDER BY post_count DESC; -- 索引优化 CREATE INDEX idx_users_email ON users(email); CREATE INDEX idx_posts_user_id ON posts(user_id); CREATE INDEX idx_posts_created_at ON posts(created_at); 数据库设计原则\n规范化设计 适当的反规范化 索引策略 查询优化 4.2 NoSQL数据库 MongoDB示例\n// 连接数据库 const { MongoClient } = require('mongodb'); const client = new MongoClient('mongodb://localhost:27017'); // 文档操作 const db = client.db('blog'); const users = db.collection('users'); // 插入文档 await users.insertOne({ name: '张三', email: 'zhangsan@example.com', profile: { age: 25, city: '北京', interests: ['编程', '阅读', '旅行'] }, createdAt: new Date() }); // 查询文档 const user = await users.findOne({ 'profile.city': '北京', 'profile.interests': { $in: ['编程'] } }); // 聚合查询 const result = await users.aggregate([ { $match: { 'profile.age': { $gte: 18 } } }, { $group: { _id: '$profile.city', count: { $sum: 1 }, avgAge: { $avg: '$profile.age' } }}, { $sort: { count: -1 } } ]); Redis缓存\n// Redis操作 const redis = require('redis'); const client = redis.createClient(); // 缓存用户数据 await client.setex('user:123', 3600, JSON.stringify(userData)); // 获取缓存 const cachedUser = await client.get('user:123'); if (cachedUser) { return JSON.parse(cachedUser); } // 发布订阅 await client.publish('notifications', JSON.stringify({ type: 'new_post', userId: 123, message: '您有新的文章评论' })); 4.3 数据库优化策略 查询优化\n使用适当的索引 避免SELECT * 优化JOIN操作 使用EXPLAIN分析查询计划 连接池管理\n// 连接池配置 const pool = new Pool({ host: 'localhost', database: 'mydb', user: 'user', password: 'password', max: 20, // 最大连接数 idleTimeoutMillis: 30000, connectionTimeoutMillis: 2000, }); 第五章：版本控制与协作 5.1 Git基础 常用Git命令\n# 初始化仓库 git init git remote add origin https://github.com/username/repo.git # 基本操作 git add . git commit -m \"添加新功能\" git push origin main # 分支管理 git checkout -b feature/new-feature git merge feature/new-feature git branch -d feature/new-feature # 查看历史 git log --oneline --graph git show commit-hash git diff HEAD~1 Git工作流\nGit Flow：功能分支工作流 GitHub Flow：简化的工作流 GitLab Flow：环境分支工作流 5.2 代码审查 Pull Request最佳实践\n清晰的标题和描述 小粒度的提交 充分的测试 代码审查检查清单 代码质量工具\n// .eslintrc.json { \"extends\": [\"eslint:recommended\", \"@typescript-eslint/recommended\"], \"rules\": { \"no-console\": \"warn\", \"no-unused-vars\": \"error\", \"prefer-const\": \"error\" } } 5.3 持续集成/持续部署 GitHub Actions示例\n# .github/workflows/ci.yml name: CI/CD Pipeline on: push: branches: [ main, develop ] pull_request: branches: [ main ] jobs: test: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Setup Node.js uses: actions/setup-node@v3 with: node-version: '18' cache: 'npm' - name: Install dependencies run: npm ci - name: Run tests run: npm test - name: Run linting run: npm run lint - name: Build application run: npm run build deploy: needs: test runs-on: ubuntu-latest if: github.ref == 'refs/heads/main' steps: - uses: actions/checkout@v3 - name: Deploy to production run: | echo \"部署到生产环境\" # 部署脚本 第六章：部署与运维 6.1 云平台部署 AWS部署\n# serverless.yml service: my-web-app provider: name: aws runtime: nodejs18.x region: us-east-1 environment: NODE_ENV: production functions: api: handler: src/handler.api events: - http: path: /{proxy+} method: ANY cors: true resources: Resources: MyTable: Type: AWS::DynamoDB::Table Properties: TableName: ${self:service}-table AttributeDefinitions: - AttributeName: id AttributeType: S KeySchema: - AttributeName: id KeyType: HASH BillingMode: PAY_PER_REQUEST Vercel部署\n// vercel.json { \"version\": 2, \"builds\": [ { \"src\": \"package.json\", \"use\": \"@vercel/node\" } ], \"routes\": [ { \"src\": \"/(.*)\", \"dest\": \"/\" } ], \"env\": { \"NODE_ENV\": \"production\" } } 6.2 容器化部署 Kubernetes配置\n# deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: web-app spec: replicas: 3 selector: matchLabels: app: web-app template: metadata: labels: app: web-app spec: containers: - name: web-app image: my-web-app:latest ports: - containerPort: 3000 env: - name: NODE_ENV value: \"production\" resources: requests: memory: \"256Mi\" cpu: \"250m\" limits: memory: \"512Mi\" cpu: \"500m\" --- apiVersion: v1 kind: Service metadata: name: web-app-service spec: selector: app: web-app ports: - port: 80 targetPort: 3000 type: LoadBalancer 6.3 监控与日志 应用监控\n// 性能监控 const { performance } = require('perf_hooks'); app.use((req, res, next) =\u003e { const start = performance.now(); res.on('finish', () =\u003e { const duration = performance.now() - start; console.log(`${req.method} ${req.url} - ${res.statusCode} - ${duration.toFixed(2)}ms`); }); next(); }); // 错误监控 process.on('uncaughtException', (error) =\u003e { console.error('未捕获的异常:', error); // 发送到监控服务 }); process.on('unhandledRejection', (reason, promise) =\u003e { console.error('未处理的Promise拒绝:', reason); // 发送到监控服务 }); 第七章：性能优化策略 7.1 前端性能优化 资源优化\n\u003clink rel=\"preload\" href=\"/fonts/main.woff2\" as=\"font\" type=\"font/woff2\" crossorigin\u003e \u003clink rel=\"preload\" href=\"/css/critical.css\" as=\"style\"\u003e \u003cscript src=\"/js/non-critical.js\" defer\u003e\u003c/script\u003e \u003cimg src=\"image.jpg\" srcset=\"image-320w.jpg 320w, image-640w.jpg 640w, image-1280w.jpg 1280w\" sizes=\"(max-width: 320px) 280px, (max-width: 640px) 600px, 1200px\" alt=\"描述性文本\" loading=\"lazy\"\u003e 代码分割\n// 动态导入 const LazyComponent = React.lazy(() =\u003e import('./LazyComponent')); function App() { return ( \u003cSuspense fallback={\u003cdiv\u003e加载中...\u003c/div\u003e}\u003e \u003cLazyComponent /\u003e \u003c/Suspense\u003e ); } // Webpack代码分割 const HomePage = () =\u003e import(/* webpackChunkName: \"home\" */ './pages/Home'); const AboutPage = () =\u003e import(/* webpackChunkName: \"about\" */ './pages/About'); 7.2 后端性能优化 缓存策略\n// Redis缓存中间件 const cache = require('express-redis-cache')({ host: 'localhost', port: 6379, expire: 300 // 5分钟 }); app.get('/api/posts', cache.route(), async (req, res) =\u003e { const posts = await Post.findAll({ include: [User], order: [['createdAt', 'DESC']] }); res.json(posts); }); // 数据库查询优化 const getPopularPosts = async () =\u003e { return await Post.findAll({ attributes: ['id', 'title', 'slug', 'createdAt'], include: [{ model: User, attributes: ['name'] }], where: { published: true, createdAt: { [Op.gte]: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000) // 最近30天 } }, order: [['viewCount', 'DESC']], limit: 10 }); }; 数据库优化\n-- 查询优化 EXPLAIN ANALYZE SELECT u.name, COUNT(p.id) as post_count FROM users u LEFT JOIN posts p ON u.id = p.user_id WHERE u.created_at \u003e '2024-01-01' GROUP BY u.id, u.name HAVING COUNT(p.id) \u003e 5 ORDER BY post_count DESC; -- 索引优化 CREATE INDEX CONCURRENTLY idx_posts_user_created ON posts(user_id, created_at) WHERE published = true; -- 分区表 CREATE TABLE posts_2024 PARTITION OF posts FOR VALUES FROM ('2024-01-01') TO ('2025-01-01'); 7.3 网络优化 CDN配置\n// 静态资源CDN const cdnUrl = process.env.CDN_URL || 'https://cdn.example.com'; app.use('/static', express.static('public', { maxAge: '1y', setHeaders: (res, path) =\u003e { if (path.endsWith('.js') || path.endsWith('.css')) { res.setHeader('Cache-Control', 'public, max-age=31536000'); } } })); // 压缩中间件 const compression = require('compression'); app.use(compression({ level: 6, threshold: 1024, filter: (req, res) =\u003e { if (req.headers['x-no-compression']) { return false; } return compression.filter(req, res); } })); 第八章：安全最佳实践 8.1 前端安全 XSS防护\n// 输入验证和转义 const escapeHtml = (text) =\u003e { const map = { '\u0026': '\u0026amp;', '\u003c': '\u0026lt;', '\u003e': '\u0026gt;', '\"': '\u0026quot;', \"'\": '\u0026#039;' }; return text.replace(/[\u0026\u003c\u003e\"']/g, (m) =\u003e map[m]); }; // Content Security Policy app.use((req, res, next) =\u003e { res.setHeader('Content-Security-Policy', \"default-src 'self'; \" + \"script-src 'self' 'unsafe-inline' https://cdn.example.com; \" + \"style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; \" + \"font-src 'self' https://fonts.gstatic.com; \" + \"img-src 'self' data: https:; \" + \"connect-src 'self' https://api.example.com\" ); next(); }); CSRF防护\nconst csrf = require('csurf'); const csrfProtection = csrf({ cookie: true }); app.use(csrfProtection); app.get('/form', (req, res) =\u003e { res.render('form', { csrfToken: req.csrfToken() }); }); app.post('/process', csrfProtection, (req, res) =\u003e { // 处理表单数据 res.send('数据已处理'); }); 8.2 后端安全 身份验证\nconst jwt = require('jsonwebtoken'); const bcrypt = require('bcrypt'); // 用户注册 app.post('/api/register', async (req, res) =\u003e { try { const { email, password } = req.body; // 密码哈希 const saltRounds = 12; const hashedPassword = await bcrypt.hash(password, saltRounds); const user = await User.create({ email, password: hashedPassword }); // 生成JWT const token = jwt.sign( { userId: user.id, email: user.email }, process.env.JWT_SECRET, { expiresIn: '24h' } ); res.json({ token, user: { id: user.id, email: user.email } }); } catch (error) { res.status(400).json({ error: error.message }); } }); // 身份验证中间件 const authenticateToken = (req, res, next) =\u003e { const authHeader = req.headers['authorization']; const token = authHeader \u0026\u0026 authHeader.split(' ')[1]; if (!token) { return res.sendStatus(401); } jwt.verify(token, process.env.JWT_SECRET, (err, user) =\u003e { if (err) return res.sendStatus(403); req.user = user; next(); }); }; 输入验证\nconst { body, validationResult } = require('express-validator'); const validateUser = [ body('email').isEmail().normalizeEmail(), body('password').isLength({ min: 8 }).matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/), body('name').trim().isLength({ min: 2, max: 50 }).escape(), (req, res, next) =\u003e { const errors = validationResult(req); if (!errors.isEmpty()) { return res.status(400).json({ errors: errors.array() }); } next(); } ]; app.post('/api/users', validateUser, async (req, res) =\u003e { // 处理验证后的数据 }); 8.3 数据安全 数据库安全\n// 参数化查询防止SQL注入 const getUserById = async (userId) =\u003e { const query = 'SELECT * FROM users WHERE id = $1'; const result = await pool.query(query, [userId]); return result.rows[0]; }; // 敏感数据加密 const crypto = require('crypto'); const encrypt = (text) =\u003e { const algorithm = 'aes-256-gcm'; const key = crypto.scryptSync(process.env.ENCRYPTION_KEY, 'salt', 32); const iv = crypto.randomBytes(16); const cipher = crypto.createCipher(algorithm, key); let encrypted = cipher.update(text, 'utf8', 'hex'); encrypted += cipher.final('hex'); return { encrypted, iv: iv.toString('hex'), tag: cipher.getAuthTag().toString('hex') }; }; 第九章：现代开发工具链 9.1 开发环境配置 VS Code配置\n// .vscode/settings.json { \"editor.formatOnSave\": true, \"editor.codeActionsOnSave\": { \"source.fixAll.eslint\": true }, \"emmet.includeLanguages\": { \"javascript\": \"javascriptreact\" }, \"typescript.preferences.importModuleSpecifier\": \"relative\", \"files.associations\": { \"*.css\": \"tailwindcss\" } } 开发工具推荐\n代码编辑器：VS Code、WebStorm、Sublime Text 版本控制：Git、GitHub Desktop API测试：Postman、Insomnia 数据库管理：DBeaver、TablePlus 设计工具：Figma、Sketch、Adobe XD 9.2 调试技巧 前端调试\n// 控制台调试 console.log('用户数据:', user); console.table(users); console.group('API调用'); console.log('请求:', request); console.log('响应:', response); console.groupEnd(); // 断点调试 debugger; // 在代码中设置断点 // 性能分析 console.time('数据处理'); // 处理数据的代码 console.timeEnd('数据处理'); 后端调试\n// 日志记录 const winston = require('winston'); const logger = winston.createLogger({ level: 'info', format: winston.format.combine( winston.format.timestamp(), winston.format.errors({ stack: true }), winston.format.json() ), transports: [ new winston.transports.File({ filename: 'error.log', level: 'error' }), new winston.transports.File({ filename: 'combined.log' }), new winston.transports.Console({ format: winston.format.simple() }) ] }); // 使用日志 logger.info('用户登录', { userId: 123, ip: req.ip }); logger.error('数据库连接失败', { error: error.message }); 9.3 测试策略 单元测试\n// Jest测试示例 const { calculateTotal, validateEmail } = require('./utils'); describe('工具函数测试', () =\u003e { test('计算总价', () =\u003e { const items = [ { price: 10, quantity: 2 }, { price: 5, quantity: 3 } ]; expect(calculateTotal(items)).toBe(35); }); test('邮箱验证', () =\u003e { expect(validateEmail('test@example.com')).toBe(true); expect(validateEmail('invalid-email')).toBe(false); }); }); 集成测试\n// API测试 const request = require('supertest'); const app = require('../app'); describe('用户API', () =\u003e { test('创建用户', async () =\u003e { const userData = { name: '测试用户', email: 'test@example.com' }; const response = await request(app) .post('/api/users') .send(userData) .expect(201); expect(response.body.name).toBe(userData.name); expect(response.body.email).toBe(userData.email); }); }); 第十章：职业发展建议 10.1 技能发展路径 初级开发者（0-2年）\n掌握HTML、CSS、JavaScript基础 学习一个前端框架（React/Vue/Angular） 了解基本的后端开发 熟悉Git版本控制 学会使用开发工具 中级开发者（2-5年）\n深入理解框架原理 掌握性能优化技巧 学习系统设计基础 了解DevOps和部署 提升代码质量意识 高级开发者（5年+）\n架构设计能力 技术选型决策 团队协作和领导力 业务理解能力 持续学习新技术 10.2 学习资源推荐 在线课程平台\nCoursera：大学课程 Udemy：实用技能课程 Pluralsight：技术深度课程 freeCodeCamp：免费编程课程 MDN Web Docs：权威文档 技术社区\nGitHub：开源项目 Stack Overflow：问题解答 Reddit：技术讨论 掘金：中文技术社区 思否：开发者问答 书籍推荐\n《JavaScript高级程序设计》 《深入理解计算机系统》 《设计模式》 《重构：改善既有代码的设计》 《代码整洁之道》 10.3 项目实践建议 个人项目\n从简单开始，逐步增加复杂度 选择感兴趣的技术栈 注重代码质量和文档 部署到线上环境 开源分享经验 开源贡献\n从修复小bug开始 阅读优秀项目代码 参与社区讨论 建立个人品牌 积累项目经验 结语 Web开发是一个不断发展的领域，新技术和新工具层出不穷。作为开发者，我们需要保持持续学习的心态，跟上技术发展的步伐。\n记住，技术只是工具，真正重要的是解决问题的能力。无论选择哪种技术栈，都要注重基础知识的掌握，培养良好的编程习惯，并始终保持对新技术的好奇心。\n希望这份指南能够帮助你在Web开发的道路上走得更远。记住，每一个专家都曾经是初学者，每一个复杂的系统都从简单的代码开始。\n继续学习，持续进步，享受编程的乐趣！\n本文档将随着技术发展持续更新，欢迎提出建议和反馈。\n",
  "wordCount" : "2275",
  "inLanguage": "zh",
  "image": "http://localhost:1313/wanghan-blog/avatar.jpeg","datePublished": "2024-09-03T15:30:00+08:00",
  "dateModified": "2024-09-03T15:30:00+08:00",
  "author":{
    "@type": "Person",
    "name": "王涵"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/wanghan-blog/posts/tech-notes/web-development-complete-guide/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "王涵的个人博客",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/wanghan-blog/favicon.ico"
    }
  }
}
</script>
    
    <link rel="stylesheet" href="/wanghan-blog/css/custom.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/wanghan-blog/" accesskey="h" title="王涵的个人博客 (Alt + H)">王涵的个人博客</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/wanghan-blog/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/wanghan-blog/search" title="🔍搜索">
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/wanghan-blog/tags" title="🏷️标签">
                    <span>🏷️标签</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/wanghan-blog/archive" title="📦归档">
                    <span>📦归档</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/wanghan-blog/about" title="💡关于">
                    <span>💡关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/wanghan-blog/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/wanghan-blog/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Web开发完整指南：从入门到精通
    </h1>
    <div class="post-meta"><span title='2024-09-03 15:30:00 +0800 CST'>九月 3, 2024</span>&nbsp;·&nbsp;11 分钟&nbsp;·&nbsp;2275 字&nbsp;·&nbsp;王涵&nbsp;|&nbsp;<a href="https://github.com/BonnieW05/wanghan-blog/edit/main/content/posts/tech-notes/web-development-complete-guide.md" rel="noopener noreferrer edit" target="_blank">建议编辑</a>

<span class="meta-item">&nbsp;·&nbsp;阅读量 <span id="busuanzi_value_page_pv"></span></span>
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">目录</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a" aria-label="Web开发完整指南：从入门到精通">Web开发完整指南：从入门到精通</a><ul>
                            
                    <li>
                        <a href="#%e7%9b%ae%e5%bd%95%e6%a6%82%e8%a7%88" aria-label="目录概览">目录概览</a></li>
                    <li>
                        <a href="#%e7%ac%ac%e4%b8%80%e7%ab%a0web%e5%bc%80%e5%8f%91%e5%9f%ba%e7%a1%80" aria-label="第一章：Web开发基础">第一章：Web开发基础</a><ul>
                            
                    <li>
                        <a href="#11-%e4%bb%80%e4%b9%88%e6%98%afweb%e5%bc%80%e5%8f%91" aria-label="1.1 什么是Web开发？">1.1 什么是Web开发？</a></li>
                    <li>
                        <a href="#12-web%e5%bc%80%e5%8f%91%e7%9a%84%e5%8e%86%e5%8f%b2%e6%bc%94%e8%bf%9b" aria-label="1.2 Web开发的历史演进">1.2 Web开发的历史演进</a></li>
                    <li>
                        <a href="#13-%e7%8e%b0%e4%bb%a3web%e5%bc%80%e5%8f%91%e7%9a%84%e7%89%b9%e7%82%b9" aria-label="1.3 现代Web开发的特点">1.3 现代Web开发的特点</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e4%ba%8c%e7%ab%a0%e5%89%8d%e7%ab%af%e5%bc%80%e5%8f%91%e6%8a%80%e6%9c%af%e6%a0%88" aria-label="第二章：前端开发技术栈">第二章：前端开发技术栈</a><ul>
                            
                    <li>
                        <a href="#21-html%e5%9f%ba%e7%a1%80" aria-label="2.1 HTML基础">2.1 HTML基础</a></li>
                    <li>
                        <a href="#22-css%e6%a0%b7%e5%bc%8f%e8%ae%be%e8%ae%a1" aria-label="2.2 CSS样式设计">2.2 CSS样式设计</a></li>
                    <li>
                        <a href="#23-javascript%e7%bc%96%e7%a8%8b" aria-label="2.3 JavaScript编程">2.3 JavaScript编程</a></li>
                    <li>
                        <a href="#24-%e5%89%8d%e7%ab%af%e6%9e%84%e5%bb%ba%e5%b7%a5%e5%85%b7" aria-label="2.4 前端构建工具">2.4 前端构建工具</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e4%b8%89%e7%ab%a0%e5%90%8e%e7%ab%af%e5%bc%80%e5%8f%91%e6%8a%80%e6%9c%af%e6%a0%88" aria-label="第三章：后端开发技术栈">第三章：后端开发技术栈</a><ul>
                            
                    <li>
                        <a href="#31-%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%ab%af%e7%bc%96%e7%a8%8b%e8%af%ad%e8%a8%80" aria-label="3.1 服务器端编程语言">3.1 服务器端编程语言</a></li>
                    <li>
                        <a href="#32-api%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99" aria-label="3.2 API设计原则">3.2 API设计原则</a></li>
                    <li>
                        <a href="#33-%e5%be%ae%e6%9c%8d%e5%8a%a1%e6%9e%b6%e6%9e%84" aria-label="3.3 微服务架构">3.3 微服务架构</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e5%9b%9b%e7%ab%a0%e6%95%b0%e6%8d%ae%e5%ba%93%e8%ae%be%e8%ae%a1%e4%b8%8e%e4%bc%98%e5%8c%96" aria-label="第四章：数据库设计与优化">第四章：数据库设计与优化</a><ul>
                            
                    <li>
                        <a href="#41-%e5%85%b3%e7%b3%bb%e5%9e%8b%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="4.1 关系型数据库">4.1 关系型数据库</a></li>
                    <li>
                        <a href="#42-nosql%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="4.2 NoSQL数据库">4.2 NoSQL数据库</a></li>
                    <li>
                        <a href="#43-%e6%95%b0%e6%8d%ae%e5%ba%93%e4%bc%98%e5%8c%96%e7%ad%96%e7%95%a5" aria-label="4.3 数据库优化策略">4.3 数据库优化策略</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e4%ba%94%e7%ab%a0%e7%89%88%e6%9c%ac%e6%8e%a7%e5%88%b6%e4%b8%8e%e5%8d%8f%e4%bd%9c" aria-label="第五章：版本控制与协作">第五章：版本控制与协作</a><ul>
                            
                    <li>
                        <a href="#51-git%e5%9f%ba%e7%a1%80" aria-label="5.1 Git基础">5.1 Git基础</a></li>
                    <li>
                        <a href="#52-%e4%bb%a3%e7%a0%81%e5%ae%a1%e6%9f%a5" aria-label="5.2 代码审查">5.2 代码审查</a></li>
                    <li>
                        <a href="#53-%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e6%8c%81%e7%bb%ad%e9%83%a8%e7%bd%b2" aria-label="5.3 持续集成/持续部署">5.3 持续集成/持续部署</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e5%85%ad%e7%ab%a0%e9%83%a8%e7%bd%b2%e4%b8%8e%e8%bf%90%e7%bb%b4" aria-label="第六章：部署与运维">第六章：部署与运维</a><ul>
                            
                    <li>
                        <a href="#61-%e4%ba%91%e5%b9%b3%e5%8f%b0%e9%83%a8%e7%bd%b2" aria-label="6.1 云平台部署">6.1 云平台部署</a></li>
                    <li>
                        <a href="#62-%e5%ae%b9%e5%99%a8%e5%8c%96%e9%83%a8%e7%bd%b2" aria-label="6.2 容器化部署">6.2 容器化部署</a></li>
                    <li>
                        <a href="#63-%e7%9b%91%e6%8e%a7%e4%b8%8e%e6%97%a5%e5%bf%97" aria-label="6.3 监控与日志">6.3 监控与日志</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e4%b8%83%e7%ab%a0%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e7%ad%96%e7%95%a5" aria-label="第七章：性能优化策略">第七章：性能优化策略</a><ul>
                            
                    <li>
                        <a href="#71-%e5%89%8d%e7%ab%af%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" aria-label="7.1 前端性能优化">7.1 前端性能优化</a></li>
                    <li>
                        <a href="#72-%e5%90%8e%e7%ab%af%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" aria-label="7.2 后端性能优化">7.2 后端性能优化</a></li>
                    <li>
                        <a href="#73-%e7%bd%91%e7%bb%9c%e4%bc%98%e5%8c%96" aria-label="7.3 网络优化">7.3 网络优化</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e5%85%ab%e7%ab%a0%e5%ae%89%e5%85%a8%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="第八章：安全最佳实践">第八章：安全最佳实践</a><ul>
                            
                    <li>
                        <a href="#81-%e5%89%8d%e7%ab%af%e5%ae%89%e5%85%a8" aria-label="8.1 前端安全">8.1 前端安全</a></li>
                    <li>
                        <a href="#82-%e5%90%8e%e7%ab%af%e5%ae%89%e5%85%a8" aria-label="8.2 后端安全">8.2 后端安全</a></li>
                    <li>
                        <a href="#83-%e6%95%b0%e6%8d%ae%e5%ae%89%e5%85%a8" aria-label="8.3 数据安全">8.3 数据安全</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e4%b9%9d%e7%ab%a0%e7%8e%b0%e4%bb%a3%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7%e9%93%be" aria-label="第九章：现代开发工具链">第九章：现代开发工具链</a><ul>
                            
                    <li>
                        <a href="#91-%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae" aria-label="9.1 开发环境配置">9.1 开发环境配置</a></li>
                    <li>
                        <a href="#92-%e8%b0%83%e8%af%95%e6%8a%80%e5%b7%a7" aria-label="9.2 调试技巧">9.2 调试技巧</a></li>
                    <li>
                        <a href="#93-%e6%b5%8b%e8%af%95%e7%ad%96%e7%95%a5" aria-label="9.3 测试策略">9.3 测试策略</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%ac%ac%e5%8d%81%e7%ab%a0%e8%81%8c%e4%b8%9a%e5%8f%91%e5%b1%95%e5%bb%ba%e8%ae%ae" aria-label="第十章：职业发展建议">第十章：职业发展建议</a><ul>
                            
                    <li>
                        <a href="#101-%e6%8a%80%e8%83%bd%e5%8f%91%e5%b1%95%e8%b7%af%e5%be%84" aria-label="10.1 技能发展路径">10.1 技能发展路径</a></li>
                    <li>
                        <a href="#102-%e5%ad%a6%e4%b9%a0%e8%b5%84%e6%ba%90%e6%8e%a8%e8%8d%90" aria-label="10.2 学习资源推荐">10.2 学习资源推荐</a></li>
                    <li>
                        <a href="#103-%e9%a1%b9%e7%9b%ae%e5%ae%9e%e8%b7%b5%e5%bb%ba%e8%ae%ae" aria-label="10.3 项目实践建议">10.3 项目实践建议</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e7%bb%93%e8%af%ad" aria-label="结语">结语</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    
    document.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();
    
        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        if (elements.length > 0) {
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }
    
        
        const topLink = document.getElementById('top-link');
        if (topLink) {
            topLink.addEventListener('click', (event) => {
                
                event.preventDefault();
    
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
    }, false);
    
    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);
    
    window.addEventListener('scroll', () => {
        
        const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
    
        
        if (scrollPosition === 0) {
            return;
        }
    
        
        if (elements && elements.length > 0) {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - scrollPosition) > 0 && 
                    (getOffsetTop(element) - scrollPosition) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement;
    
            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                const tocLink = document.querySelector(`.inner ul li a[href="#${id}"]`);
                if (element === activeElement){
                    tocLink.classList.add('active');
    
                    
                    const tocContainer = document.querySelector('.toc .inner');
                    const linkOffsetTop = tocLink.offsetTop;
                    const containerHeight = tocContainer.clientHeight;
                    const linkHeight = tocLink.clientHeight;
    
                    
                    const scrollPosition = linkOffsetTop - (containerHeight / 2) + (linkHeight / 2);
                    tocContainer.scrollTo({ top: scrollPosition, behavior: 'smooth' });
                } else {
                    tocLink.classList.remove('active');
                }
            });
        }
    }, false);
    
    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);
    
    function checkTocPosition() {
        const width = document.body.scrollWidth;
    
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }
    
    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
    
</script>

  <div class="post-content"><h1 id="web开发完整指南从入门到精通">Web开发完整指南：从入门到精通<a hidden class="anchor" aria-hidden="true" href="#web开发完整指南从入门到精通">#</a></h1>
<p>Web开发是一个充满挑战和机遇的领域。随着互联网的快速发展，Web应用已经成为我们日常生活中不可或缺的一部分。本指南将带你从零开始，逐步掌握现代Web开发的核心技能。</p>
<h2 id="目录概览">目录概览<a hidden class="anchor" aria-hidden="true" href="#目录概览">#</a></h2>
<p>本指南将涵盖以下主要内容：</p>
<ul>
<li>Web开发基础概念</li>
<li>前端开发技术栈</li>
<li>后端开发技术栈</li>
<li>数据库设计与优化</li>
<li>版本控制与协作</li>
<li>部署与运维</li>
<li>性能优化策略</li>
<li>安全最佳实践</li>
<li>现代开发工具链</li>
<li>职业发展建议</li>
</ul>
<h2 id="第一章web开发基础">第一章：Web开发基础<a hidden class="anchor" aria-hidden="true" href="#第一章web开发基础">#</a></h2>
<h3 id="11-什么是web开发">1.1 什么是Web开发？<a hidden class="anchor" aria-hidden="true" href="#11-什么是web开发">#</a></h3>
<p>Web开发是指创建和维护网站或Web应用程序的过程。它通常分为两个主要部分：</p>
<p><strong>前端开发（Frontend）</strong></p>
<ul>
<li>负责用户界面和用户体验</li>
<li>处理用户交互和视觉呈现</li>
<li>主要技术：HTML、CSS、JavaScript</li>
</ul>
<p><strong>后端开发（Backend）</strong></p>
<ul>
<li>负责服务器端逻辑和数据处理</li>
<li>管理数据库和API</li>
<li>主要技术：各种编程语言和框架</li>
</ul>
<h3 id="12-web开发的历史演进">1.2 Web开发的历史演进<a hidden class="anchor" aria-hidden="true" href="#12-web开发的历史演进">#</a></h3>
<p>Web开发经历了多个重要的发展阶段：</p>
<p><strong>静态网页时代（1990s）</strong></p>
<ul>
<li>简单的HTML页面</li>
<li>静态内容展示</li>
<li>有限的交互性</li>
</ul>
<p><strong>动态网页时代（2000s）</strong></p>
<ul>
<li>服务器端脚本语言兴起</li>
<li>数据库集成</li>
<li>更丰富的交互体验</li>
</ul>
<p><strong>现代Web应用时代（2010s至今）</strong></p>
<ul>
<li>单页应用（SPA）流行</li>
<li>前后端分离架构</li>
<li>移动优先设计</li>
<li>云原生应用</li>
</ul>
<h3 id="13-现代web开发的特点">1.3 现代Web开发的特点<a hidden class="anchor" aria-hidden="true" href="#13-现代web开发的特点">#</a></h3>
<p><strong>响应式设计</strong></p>
<ul>
<li>适配各种设备尺寸</li>
<li>移动优先的开发理念</li>
<li>灵活的布局系统</li>
</ul>
<p><strong>组件化开发</strong></p>
<ul>
<li>可复用的UI组件</li>
<li>模块化的代码组织</li>
<li>提高开发效率</li>
</ul>
<p><strong>性能优化</strong></p>
<ul>
<li>快速加载时间</li>
<li>优化的资源管理</li>
<li>用户体验优先</li>
</ul>
<h2 id="第二章前端开发技术栈">第二章：前端开发技术栈<a hidden class="anchor" aria-hidden="true" href="#第二章前端开发技术栈">#</a></h2>
<h3 id="21-html基础">2.1 HTML基础<a hidden class="anchor" aria-hidden="true" href="#21-html基础">#</a></h3>
<p>HTML（超文本标记语言）是Web开发的基础，它定义了网页的结构和内容。</p>
<p><strong>HTML5新特性</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zh-CN&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">title</span>&gt;现代Web应用&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">header</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">nav</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#home&#34;</span>&gt;首页&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#about&#34;</span>&gt;关于&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">li</span>&gt;&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#contact&#34;</span>&gt;联系&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">nav</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">header</span>&gt;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">main</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">section</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hero&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">h1</span>&gt;欢迎来到现代Web世界&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;探索无限可能的Web开发技术&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">section</span>&gt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">article</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">h2</span>&gt;最新技术趋势&lt;/<span style="color:#f92672">h2</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">p</span>&gt;Web开发正在快速发展...&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">article</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">main</span>&gt;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">footer</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">p</span>&gt;&amp;copy; 2024 Web开发指南&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">footer</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p><strong>语义化标签的重要性</strong></p>
<ul>
<li>提高可访问性</li>
<li>改善SEO效果</li>
<li>便于维护和理解</li>
</ul>
<h3 id="22-css样式设计">2.2 CSS样式设计<a hidden class="anchor" aria-hidden="true" href="#22-css样式设计">#</a></h3>
<p>CSS（层叠样式表）负责网页的视觉呈现和布局设计。</p>
<p><strong>现代CSS特性</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#75715e">/* CSS Grid布局 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">container</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">grid</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">grid-template-columns</span>: <span style="color:#a6e22e">repeat</span>(<span style="color:#66d9ef">auto</span><span style="color:#f92672">-</span>fit, <span style="color:#a6e22e">minmax</span>(<span style="color:#ae81ff">300</span><span style="color:#66d9ef">px</span>, <span style="color:#ae81ff">1</span>fr));
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">gap</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">2</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Flexbox布局 */</span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">navbar</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">justify-content</span>: <span style="color:#66d9ef">space-between</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">align-items</span>: <span style="color:#66d9ef">center</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span> <span style="color:#ae81ff">2</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background</span>: linear-gradient(<span style="color:#ae81ff">135</span><span style="color:#66d9ef">deg</span>, <span style="color:#ae81ff">#667eea</span> <span style="color:#ae81ff">0</span><span style="color:#66d9ef">%</span>, <span style="color:#ae81ff">#764ba2</span> <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* CSS变量 */</span>
</span></span><span style="display:flex;"><span>:<span style="color:#a6e22e">root</span> {
</span></span><span style="display:flex;"><span>    --primary-color: <span style="color:#ae81ff">#667eea</span>;
</span></span><span style="display:flex;"><span>    --secondary-color: <span style="color:#ae81ff">#764ba2</span>;
</span></span><span style="display:flex;"><span>    --text-color: <span style="color:#ae81ff">#333</span>;
</span></span><span style="display:flex;"><span>    --bg-color: <span style="color:#ae81ff">#f8f9fa</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* 响应式设计 */</span>
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">768px</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">container</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">grid-template-columns</span>: <span style="color:#ae81ff">1</span>fr;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">navbar</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">flex-direction</span>: <span style="color:#66d9ef">column</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">gap</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>CSS预处理器</strong></p>
<ul>
<li>Sass/SCSS：变量、嵌套、混入</li>
<li>Less：类似Sass的功能</li>
<li>PostCSS：现代CSS处理工具</li>
</ul>
<h3 id="23-javascript编程">2.3 JavaScript编程<a hidden class="anchor" aria-hidden="true" href="#23-javascript编程">#</a></h3>
<p>JavaScript是现代Web开发的核心，它使网页具有交互性和动态性。</p>
<p><strong>ES6+新特性</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 箭头函数和模板字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">greetUser</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">name</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`欢迎, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">! 今天是 </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">toLocaleDateString</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 解构赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;张三&#39;</span>, <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">25</span>, <span style="color:#a6e22e">city</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;北京&#39;</span> };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">age</span>, <span style="color:#a6e22e">city</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 异步编程
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchUserData</span>(<span style="color:#a6e22e">userId</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">`/api/users/</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">userId</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">userData</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;获取用户数据失败:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#a6e22e">error</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 模块化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserService</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">apiUrl</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">apiUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">apiUrl</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">getUsers</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">apiUrl</span><span style="color:#e6db74">}</span><span style="color:#e6db74">/users`</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>现代JavaScript框架</strong></p>
<ul>
<li>React：组件化UI库</li>
<li>Vue.js：渐进式框架</li>
<li>Angular：企业级框架</li>
<li>Svelte：编译时优化</li>
</ul>
<h3 id="24-前端构建工具">2.4 前端构建工具<a hidden class="anchor" aria-hidden="true" href="#24-前端构建工具">#</a></h3>
<p><strong>包管理器</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># npm</span>
</span></span><span style="display:flex;"><span>npm install react react-dom
</span></span><span style="display:flex;"><span>npm run build
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># yarn</span>
</span></span><span style="display:flex;"><span>yarn add react react-dom
</span></span><span style="display:flex;"><span>yarn build
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># pnpm</span>
</span></span><span style="display:flex;"><span>pnpm add react react-dom
</span></span><span style="display:flex;"><span>pnpm build
</span></span></code></pre></div><p><strong>构建工具</strong></p>
<ul>
<li>Webpack：模块打包器</li>
<li>Vite：快速构建工具</li>
<li>Parcel：零配置构建工具</li>
<li>Rollup：库打包工具</li>
</ul>
<h2 id="第三章后端开发技术栈">第三章：后端开发技术栈<a hidden class="anchor" aria-hidden="true" href="#第三章后端开发技术栈">#</a></h2>
<h3 id="31-服务器端编程语言">3.1 服务器端编程语言<a hidden class="anchor" aria-hidden="true" href="#31-服务器端编程语言">#</a></h3>
<p><strong>Node.js</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Express.js示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">express</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">express</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">port</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 中间件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">express</span>.<span style="color:#a6e22e">json</span>());
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">express</span>.<span style="color:#66d9ef">static</span>(<span style="color:#e6db74">&#39;public&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 路由
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>, <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">users</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">findAll</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>(<span style="color:#a6e22e">users</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">500</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span> });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>, <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">create</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">201</span>).<span style="color:#a6e22e">json</span>(<span style="color:#a6e22e">user</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">400</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span> });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">listen</span>(<span style="color:#a6e22e">port</span>, () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`服务器运行在 http://localhost:</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">port</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p><strong>Python</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Flask示例</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, request, jsonify
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_sqlalchemy <span style="color:#f92672">import</span> SQLAlchemy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_DATABASE_URI&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;sqlite:///users.db&#39;</span>
</span></span><span style="display:flex;"><span>db <span style="color:#f92672">=</span> SQLAlchemy(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span>(db<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    id <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer, primary_key<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">80</span>), nullable<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>    email <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">120</span>), unique<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, nullable<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;GET&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_users</span>():
</span></span><span style="display:flex;"><span>    users <span style="color:#f92672">=</span> User<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> jsonify([{
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;id&#39;</span>: user<span style="color:#f92672">.</span>id,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;name&#39;</span>: user<span style="color:#f92672">.</span>name,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;email&#39;</span>: user<span style="color:#f92672">.</span>email
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">for</span> user <span style="color:#f92672">in</span> users])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">create_user</span>():
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>get_json()
</span></span><span style="display:flex;"><span>    user <span style="color:#f92672">=</span> User(name<span style="color:#f92672">=</span>data[<span style="color:#e6db74">&#39;name&#39;</span>], email<span style="color:#f92672">=</span>data[<span style="color:#e6db74">&#39;email&#39;</span>])
</span></span><span style="display:flex;"><span>    db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>add(user)
</span></span><span style="display:flex;"><span>    db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>commit()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> jsonify({<span style="color:#e6db74">&#39;id&#39;</span>: user<span style="color:#f92672">.</span>id, <span style="color:#e6db74">&#39;name&#39;</span>: user<span style="color:#f92672">.</span>name, <span style="color:#e6db74">&#39;email&#39;</span>: user<span style="color:#f92672">.</span>email}), <span style="color:#ae81ff">201</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    app<span style="color:#f92672">.</span>run(debug<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><p><strong>其他语言</strong></p>
<ul>
<li>Java：Spring Boot框架</li>
<li>C#：ASP.NET Core</li>
<li>Go：Gin、Echo框架</li>
<li>PHP：Laravel、Symfony</li>
<li>Ruby：Ruby on Rails</li>
</ul>
<h3 id="32-api设计原则">3.2 API设计原则<a hidden class="anchor" aria-hidden="true" href="#32-api设计原则">#</a></h3>
<p><strong>RESTful API设计</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// RESTful路由设计
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">GET</span>    <span style="color:#f92672">/</span><span style="color:#a6e22e">api</span><span style="color:#f92672">/</span><span style="color:#a6e22e">users</span>          <span style="color:#75715e">// 获取所有用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">GET</span>    <span style="color:#f92672">/</span><span style="color:#a6e22e">api</span><span style="color:#f92672">/</span><span style="color:#a6e22e">users</span><span style="color:#f92672">/:</span><span style="color:#a6e22e">id</span>      <span style="color:#75715e">// 获取特定用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">POST</span>   <span style="color:#f92672">/</span><span style="color:#a6e22e">api</span><span style="color:#f92672">/</span><span style="color:#a6e22e">users</span>          <span style="color:#75715e">// 创建新用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">PUT</span>    <span style="color:#f92672">/</span><span style="color:#a6e22e">api</span><span style="color:#f92672">/</span><span style="color:#a6e22e">users</span><span style="color:#f92672">/:</span><span style="color:#a6e22e">id</span>      <span style="color:#75715e">// 更新用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">DELETE</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">api</span><span style="color:#f92672">/</span><span style="color:#a6e22e">users</span><span style="color:#f92672">/:</span><span style="color:#a6e22e">id</span>      <span style="color:#75715e">// 删除用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 响应格式标准化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;success&#34;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;data&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;id&#34;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;张三&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;email&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;zhangsan@example.com&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;message&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;操作成功&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>GraphQL</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-graphql" data-lang="graphql"><span style="display:flex;"><span><span style="color:#75715e"># Schema定义</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">User</span> {
</span></span><span style="display:flex;"><span>    id: <span style="color:#a6e22e">ID</span>!
</span></span><span style="display:flex;"><span>    name: <span style="color:#a6e22e">String</span>!
</span></span><span style="display:flex;"><span>    email: <span style="color:#a6e22e">String</span>!
</span></span><span style="display:flex;"><span>    posts: [<span style="color:#a6e22e">Post</span>!]!
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Post</span> {
</span></span><span style="display:flex;"><span>    id: <span style="color:#a6e22e">ID</span>!
</span></span><span style="display:flex;"><span>    title: <span style="color:#a6e22e">String</span>!
</span></span><span style="display:flex;"><span>    content: <span style="color:#a6e22e">String</span>!
</span></span><span style="display:flex;"><span>    author: <span style="color:#a6e22e">User</span>!
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Query</span> {
</span></span><span style="display:flex;"><span>    user(id: <span style="color:#a6e22e">ID</span>!): <span style="color:#a6e22e">User</span>
</span></span><span style="display:flex;"><span>    users: [<span style="color:#a6e22e">User</span>!]!
</span></span><span style="display:flex;"><span>    post(id: <span style="color:#a6e22e">ID</span>!): <span style="color:#a6e22e">Post</span>
</span></span><span style="display:flex;"><span>    posts: [<span style="color:#a6e22e">Post</span>!]!
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Mutation</span> {
</span></span><span style="display:flex;"><span>    createUser(name: <span style="color:#a6e22e">String</span>!, email: <span style="color:#a6e22e">String</span>!): <span style="color:#a6e22e">User</span>!
</span></span><span style="display:flex;"><span>    updateUser(id: <span style="color:#a6e22e">ID</span>!, name: <span style="color:#a6e22e">String</span>, email: <span style="color:#a6e22e">String</span>): <span style="color:#a6e22e">User</span>!
</span></span><span style="display:flex;"><span>    deleteUser(id: <span style="color:#a6e22e">ID</span>!): <span style="color:#a6e22e">Boolean</span>!
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="33-微服务架构">3.3 微服务架构<a hidden class="anchor" aria-hidden="true" href="#33-微服务架构">#</a></h3>
<p><strong>服务拆分原则</strong></p>
<ul>
<li>单一职责原则</li>
<li>数据独立性</li>
<li>技术栈多样性</li>
<li>独立部署能力</li>
</ul>
<p><strong>容器化部署</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#75715e"># Dockerfile示例</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">node:18-alpine</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">WORKDIR</span> <span style="color:#e6db74">/app</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> package*.json ./<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> npm ci --only<span style="color:#f92672">=</span>production<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> . .<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">EXPOSE</span> <span style="color:#e6db74">3000</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">CMD</span> [<span style="color:#e6db74">&#34;npm&#34;</span>, <span style="color:#e6db74">&#34;start&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># docker-compose.yml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.8&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">web</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">build</span>: <span style="color:#ae81ff">.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;3000:3000&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">NODE_ENV=production</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">DATABASE_URL=postgresql://user:pass@db:5432/mydb</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">db</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">db</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">postgres:15</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">POSTGRES_DB=mydb</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">POSTGRES_USER=user</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">POSTGRES_PASSWORD=pass</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">postgres_data:/var/lib/postgresql/data</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">postgres_data</span>:
</span></span></code></pre></div><h2 id="第四章数据库设计与优化">第四章：数据库设计与优化<a hidden class="anchor" aria-hidden="true" href="#第四章数据库设计与优化">#</a></h2>
<h3 id="41-关系型数据库">4.1 关系型数据库<a hidden class="anchor" aria-hidden="true" href="#41-关系型数据库">#</a></h3>
<p><strong>SQL基础</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- 创建表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> users (
</span></span><span style="display:flex;"><span>    id SERIAL <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    name VARCHAR(<span style="color:#ae81ff">100</span>) <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    email VARCHAR(<span style="color:#ae81ff">255</span>) <span style="color:#66d9ef">UNIQUE</span> <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    created_at <span style="color:#66d9ef">TIMESTAMP</span> <span style="color:#66d9ef">DEFAULT</span> <span style="color:#66d9ef">CURRENT_TIMESTAMP</span>
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 插入数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> users (name, email) <span style="color:#66d9ef">VALUES</span> 
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;张三&#39;</span>, <span style="color:#e6db74">&#39;zhangsan@example.com&#39;</span>),
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;李四&#39;</span>, <span style="color:#e6db74">&#39;lisi@example.com&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 查询数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span> u.name, u.email, <span style="color:#66d9ef">COUNT</span>(p.id) <span style="color:#66d9ef">as</span> post_count
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> users u
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> posts p <span style="color:#66d9ef">ON</span> u.id <span style="color:#f92672">=</span> p.user_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> u.created_at <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;2024-01-01&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> u.id, u.name, u.email
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> post_count <span style="color:#66d9ef">DESC</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 索引优化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> idx_users_email <span style="color:#66d9ef">ON</span> users(email);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> idx_posts_user_id <span style="color:#66d9ef">ON</span> posts(user_id);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> idx_posts_created_at <span style="color:#66d9ef">ON</span> posts(created_at);
</span></span></code></pre></div><p><strong>数据库设计原则</strong></p>
<ul>
<li>规范化设计</li>
<li>适当的反规范化</li>
<li>索引策略</li>
<li>查询优化</li>
</ul>
<h3 id="42-nosql数据库">4.2 NoSQL数据库<a hidden class="anchor" aria-hidden="true" href="#42-nosql数据库">#</a></h3>
<p><strong>MongoDB示例</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 连接数据库
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">MongoClient</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;mongodb&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">client</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">MongoClient</span>(<span style="color:#e6db74">&#39;mongodb://localhost:27017&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 文档操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">db</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">db</span>(<span style="color:#e6db74">&#39;blog&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">users</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">collection</span>(<span style="color:#e6db74">&#39;users&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 插入文档
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">users</span>.<span style="color:#a6e22e">insertOne</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;张三&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zhangsan@example.com&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">profile</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">25</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">city</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;北京&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">interests</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;编程&#39;</span>, <span style="color:#e6db74">&#39;阅读&#39;</span>, <span style="color:#e6db74">&#39;旅行&#39;</span>]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">createdAt</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date()
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 查询文档
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">users</span>.<span style="color:#a6e22e">findOne</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;profile.city&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;北京&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;profile.interests&#39;</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">$in</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;编程&#39;</span>] }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 聚合查询
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">users</span>.<span style="color:#a6e22e">aggregate</span>([
</span></span><span style="display:flex;"><span>    { <span style="color:#a6e22e">$match</span><span style="color:#f92672">:</span> { <span style="color:#e6db74">&#39;profile.age&#39;</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">$gte</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">18</span> } } },
</span></span><span style="display:flex;"><span>    { <span style="color:#a6e22e">$group</span><span style="color:#f92672">:</span> { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">_id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;$profile.city&#39;</span>, 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">$sum</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span> },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">avgAge</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">$avg</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;$profile.age&#39;</span> }
</span></span><span style="display:flex;"><span>    }},
</span></span><span style="display:flex;"><span>    { <span style="color:#a6e22e">$sort</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> } }
</span></span><span style="display:flex;"><span>]);
</span></span></code></pre></div><p><strong>Redis缓存</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Redis操作
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">redis</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;redis&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">client</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">createClient</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 缓存用户数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">setex</span>(<span style="color:#e6db74">&#39;user:123&#39;</span>, <span style="color:#ae81ff">3600</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">userData</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 获取缓存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cachedUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;user:123&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">cachedUser</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">cachedUser</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 发布订阅
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">await</span> <span style="color:#a6e22e">client</span>.<span style="color:#a6e22e">publish</span>(<span style="color:#e6db74">&#39;notifications&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;new_post&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">userId</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">123</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;您有新的文章评论&#39;</span>
</span></span><span style="display:flex;"><span>}));
</span></span></code></pre></div><h3 id="43-数据库优化策略">4.3 数据库优化策略<a hidden class="anchor" aria-hidden="true" href="#43-数据库优化策略">#</a></h3>
<p><strong>查询优化</strong></p>
<ul>
<li>使用适当的索引</li>
<li>避免SELECT *</li>
<li>优化JOIN操作</li>
<li>使用EXPLAIN分析查询计划</li>
</ul>
<p><strong>连接池管理</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 连接池配置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pool</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Pool</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">host</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;localhost&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">database</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;mydb&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;user&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;password&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">max</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20</span>, <span style="color:#75715e">// 最大连接数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">idleTimeoutMillis</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">connectionTimeoutMillis</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2000</span>,
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h2 id="第五章版本控制与协作">第五章：版本控制与协作<a hidden class="anchor" aria-hidden="true" href="#第五章版本控制与协作">#</a></h2>
<h3 id="51-git基础">5.1 Git基础<a hidden class="anchor" aria-hidden="true" href="#51-git基础">#</a></h3>
<p><strong>常用Git命令</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 初始化仓库</span>
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git remote add origin https://github.com/username/repo.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 基本操作</span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;添加新功能&#34;</span>
</span></span><span style="display:flex;"><span>git push origin main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 分支管理</span>
</span></span><span style="display:flex;"><span>git checkout -b feature/new-feature
</span></span><span style="display:flex;"><span>git merge feature/new-feature
</span></span><span style="display:flex;"><span>git branch -d feature/new-feature
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查看历史</span>
</span></span><span style="display:flex;"><span>git log --oneline --graph
</span></span><span style="display:flex;"><span>git show commit-hash
</span></span><span style="display:flex;"><span>git diff HEAD~1
</span></span></code></pre></div><p><strong>Git工作流</strong></p>
<ul>
<li>Git Flow：功能分支工作流</li>
<li>GitHub Flow：简化的工作流</li>
<li>GitLab Flow：环境分支工作流</li>
</ul>
<h3 id="52-代码审查">5.2 代码审查<a hidden class="anchor" aria-hidden="true" href="#52-代码审查">#</a></h3>
<p><strong>Pull Request最佳实践</strong></p>
<ul>
<li>清晰的标题和描述</li>
<li>小粒度的提交</li>
<li>充分的测试</li>
<li>代码审查检查清单</li>
</ul>
<p><strong>代码质量工具</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// .eslintrc.json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;extends&#34;</span>: [<span style="color:#e6db74">&#34;eslint:recommended&#34;</span>, <span style="color:#e6db74">&#34;@typescript-eslint/recommended&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;rules&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;no-console&#34;</span>: <span style="color:#e6db74">&#34;warn&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;no-unused-vars&#34;</span>: <span style="color:#e6db74">&#34;error&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;prefer-const&#34;</span>: <span style="color:#e6db74">&#34;error&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="53-持续集成持续部署">5.3 持续集成/持续部署<a hidden class="anchor" aria-hidden="true" href="#53-持续集成持续部署">#</a></h3>
<p><strong>GitHub Actions示例</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># .github/workflows/ci.yml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">CI/CD Pipeline</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [ <span style="color:#ae81ff">main, develop ]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">pull_request</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [ <span style="color:#ae81ff">main ]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">test</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v3</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Setup Node.js</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/setup-node@v3</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">node-version</span>: <span style="color:#e6db74">&#39;18&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">cache</span>: <span style="color:#e6db74">&#39;npm&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install dependencies</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm ci</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Run tests</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm test</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Run linting</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm run lint</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Build application</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: <span style="color:#ae81ff">npm run build</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">deploy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">needs</span>: <span style="color:#ae81ff">test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">if</span>: <span style="color:#ae81ff">github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v3</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Deploy to production</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        echo &#34;部署到生产环境&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        # 部署脚本</span>
</span></span></code></pre></div><h2 id="第六章部署与运维">第六章：部署与运维<a hidden class="anchor" aria-hidden="true" href="#第六章部署与运维">#</a></h2>
<h3 id="61-云平台部署">6.1 云平台部署<a hidden class="anchor" aria-hidden="true" href="#61-云平台部署">#</a></h3>
<p><strong>AWS部署</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># serverless.yml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">service</span>: <span style="color:#ae81ff">my-web-app</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">provider</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">aws</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">runtime</span>: <span style="color:#ae81ff">nodejs18.x</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">region</span>: <span style="color:#ae81ff">us-east-1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">NODE_ENV</span>: <span style="color:#ae81ff">production</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">functions</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">api</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">handler</span>: <span style="color:#ae81ff">src/handler.api</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">events</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">http</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">path</span>: <span style="color:#ae81ff">/{proxy+}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">method</span>: <span style="color:#ae81ff">ANY</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">cors</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Resources</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">MyTable</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::DynamoDB::Table</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">TableName</span>: <span style="color:#ae81ff">${self:service}-table</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">AttributeDefinitions</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#f92672">AttributeName</span>: <span style="color:#ae81ff">id</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">AttributeType</span>: <span style="color:#ae81ff">S</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">KeySchema</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#f92672">AttributeName</span>: <span style="color:#ae81ff">id</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">KeyType</span>: <span style="color:#ae81ff">HASH</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">BillingMode</span>: <span style="color:#ae81ff">PAY_PER_REQUEST</span>
</span></span></code></pre></div><p><strong>Vercel部署</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// vercel.json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;builds&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;src&#34;</span>: <span style="color:#e6db74">&#34;package.json&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;use&#34;</span>: <span style="color:#e6db74">&#34;@vercel/node&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;routes&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;src&#34;</span>: <span style="color:#e6db74">&#34;/(.*)&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;dest&#34;</span>: <span style="color:#e6db74">&#34;/&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;env&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;NODE_ENV&#34;</span>: <span style="color:#e6db74">&#34;production&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="62-容器化部署">6.2 容器化部署<a hidden class="anchor" aria-hidden="true" href="#62-容器化部署">#</a></h3>
<p><strong>Kubernetes配置</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># deployment.yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">apps/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Deployment</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">web-app</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">selector</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">matchLabels</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">app</span>: <span style="color:#ae81ff">web-app</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">template</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">app</span>: <span style="color:#ae81ff">web-app</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">containers</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">web-app</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">my-web-app:latest</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">containerPort</span>: <span style="color:#ae81ff">3000</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">NODE_ENV</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">value</span>: <span style="color:#e6db74">&#34;production&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">resources</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">requests</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">memory</span>: <span style="color:#e6db74">&#34;256Mi&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">cpu</span>: <span style="color:#e6db74">&#34;250m&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">limits</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">memory</span>: <span style="color:#e6db74">&#34;512Mi&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">cpu</span>: <span style="color:#e6db74">&#34;500m&#34;</span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Service</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">web-app-service</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">selector</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">app</span>: <span style="color:#ae81ff">web-app</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">port</span>: <span style="color:#ae81ff">80</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">targetPort</span>: <span style="color:#ae81ff">3000</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">type</span>: <span style="color:#ae81ff">LoadBalancer</span>
</span></span></code></pre></div><h3 id="63-监控与日志">6.3 监控与日志<a hidden class="anchor" aria-hidden="true" href="#63-监控与日志">#</a></h3>
<p><strong>应用监控</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 性能监控
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">performance</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;perf_hooks&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">start</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">performance</span>.<span style="color:#a6e22e">now</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;finish&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">duration</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">performance</span>.<span style="color:#a6e22e">now</span>() <span style="color:#f92672">-</span> <span style="color:#a6e22e">start</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">statusCode</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> - </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">duration</span>.<span style="color:#a6e22e">toFixed</span>(<span style="color:#ae81ff">2</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">ms`</span>);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 错误监控
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;uncaughtException&#39;</span>, (<span style="color:#a6e22e">error</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;未捕获的异常:&#39;</span>, <span style="color:#a6e22e">error</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 发送到监控服务
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;unhandledRejection&#39;</span>, (<span style="color:#a6e22e">reason</span>, <span style="color:#a6e22e">promise</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;未处理的Promise拒绝:&#39;</span>, <span style="color:#a6e22e">reason</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 发送到监控服务
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span></code></pre></div><h2 id="第七章性能优化策略">第七章：性能优化策略<a hidden class="anchor" aria-hidden="true" href="#第七章性能优化策略">#</a></h2>
<h3 id="71-前端性能优化">7.1 前端性能优化<a hidden class="anchor" aria-hidden="true" href="#71-前端性能优化">#</a></h3>
<p><strong>资源优化</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 预加载关键资源 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;preload&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/fonts/main.woff2&#34;</span> <span style="color:#a6e22e">as</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font&#34;</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font/woff2&#34;</span> <span style="color:#a6e22e">crossorigin</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;preload&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/css/critical.css&#34;</span> <span style="color:#a6e22e">as</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;style&#34;</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 延迟加载非关键资源 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/js/non-critical.js&#34;</span> <span style="color:#a6e22e">defer</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 图片优化 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image.jpg&#34;</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;image-320w.jpg 320w, image-640w.jpg 640w, image-1280w.jpg 1280w&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">sizes</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(max-width: 320px) 280px, (max-width: 640px) 600px, 1200px&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;描述性文本&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">loading</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;lazy&#34;</span>&gt;
</span></span></code></pre></div><p><strong>代码分割</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 动态导入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">LazyComponent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">lazy</span>(() =&gt; <span style="color:#66d9ef">import</span>(<span style="color:#e6db74">&#39;./LazyComponent&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">Suspense</span> <span style="color:#a6e22e">fallback</span><span style="color:#f92672">=</span>{<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span><span style="color:#a6e22e">加载中</span>...<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;}&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">LazyComponent</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/Suspense&gt;</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Webpack代码分割
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">HomePage</span> <span style="color:#f92672">=</span> () =&gt; <span style="color:#66d9ef">import</span>(<span style="color:#75715e">/* webpackChunkName: &#34;home&#34; */</span> <span style="color:#e6db74">&#39;./pages/Home&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">AboutPage</span> <span style="color:#f92672">=</span> () =&gt; <span style="color:#66d9ef">import</span>(<span style="color:#75715e">/* webpackChunkName: &#34;about&#34; */</span> <span style="color:#e6db74">&#39;./pages/About&#39;</span>);
</span></span></code></pre></div><h3 id="72-后端性能优化">7.2 后端性能优化<a hidden class="anchor" aria-hidden="true" href="#72-后端性能优化">#</a></h3>
<p><strong>缓存策略</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Redis缓存中间件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cache</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express-redis-cache&#39;</span>)({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">host</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;localhost&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6379</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">expire</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">300</span> <span style="color:#75715e">// 5分钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/api/posts&#39;</span>, <span style="color:#a6e22e">cache</span>.<span style="color:#a6e22e">route</span>(), <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">posts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">Post</span>.<span style="color:#a6e22e">findAll</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">include</span><span style="color:#f92672">:</span> [<span style="color:#a6e22e">User</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">order</span><span style="color:#f92672">:</span> [[<span style="color:#e6db74">&#39;createdAt&#39;</span>, <span style="color:#e6db74">&#39;DESC&#39;</span>]]
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>(<span style="color:#a6e22e">posts</span>);
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 数据库查询优化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">getPopularPosts</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">Post</span>.<span style="color:#a6e22e">findAll</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;id&#39;</span>, <span style="color:#e6db74">&#39;title&#39;</span>, <span style="color:#e6db74">&#39;slug&#39;</span>, <span style="color:#e6db74">&#39;createdAt&#39;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">include</span><span style="color:#f92672">:</span> [{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">model</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">User</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;name&#39;</span>]
</span></span><span style="display:flex;"><span>        }],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">where</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">published</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">createdAt</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>                [<span style="color:#a6e22e">Op</span>.<span style="color:#a6e22e">gte</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(Date.<span style="color:#a6e22e">now</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">24</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1000</span>) <span style="color:#75715e">// 最近30天
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">order</span><span style="color:#f92672">:</span> [[<span style="color:#e6db74">&#39;viewCount&#39;</span>, <span style="color:#e6db74">&#39;DESC&#39;</span>]],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">limit</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>数据库优化</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- 查询优化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">EXPLAIN</span> <span style="color:#66d9ef">ANALYZE</span> <span style="color:#66d9ef">SELECT</span> u.name, <span style="color:#66d9ef">COUNT</span>(p.id) <span style="color:#66d9ef">as</span> post_count
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> users u
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> posts p <span style="color:#66d9ef">ON</span> u.id <span style="color:#f92672">=</span> p.user_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> u.created_at <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;2024-01-01&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> u.id, u.name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">HAVING</span> <span style="color:#66d9ef">COUNT</span>(p.id) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> post_count <span style="color:#66d9ef">DESC</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 索引优化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> CONCURRENTLY idx_posts_user_created 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ON</span> posts(user_id, created_at) 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> published <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 分区表
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> posts_2024 PARTITION <span style="color:#66d9ef">OF</span> posts
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FOR</span> <span style="color:#66d9ef">VALUES</span> <span style="color:#66d9ef">FROM</span> (<span style="color:#e6db74">&#39;2024-01-01&#39;</span>) <span style="color:#66d9ef">TO</span> (<span style="color:#e6db74">&#39;2025-01-01&#39;</span>);
</span></span></code></pre></div><h3 id="73-网络优化">7.3 网络优化<a hidden class="anchor" aria-hidden="true" href="#73-网络优化">#</a></h3>
<p><strong>CDN配置</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 静态资源CDN
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cdnUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">CDN_URL</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;https://cdn.example.com&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#e6db74">&#39;/static&#39;</span>, <span style="color:#a6e22e">express</span>.<span style="color:#66d9ef">static</span>(<span style="color:#e6db74">&#39;public&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">maxAge</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1y&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setHeaders</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">path</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">endsWith</span>(<span style="color:#e6db74">&#39;.js&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">endsWith</span>(<span style="color:#e6db74">&#39;.css&#39;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Cache-Control&#39;</span>, <span style="color:#e6db74">&#39;public, max-age=31536000&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 压缩中间件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">compression</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;compression&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">compression</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">6</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">threshold</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1024</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">filter</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;x-no-compression&#39;</span>]) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">compression</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}));
</span></span></code></pre></div><h2 id="第八章安全最佳实践">第八章：安全最佳实践<a hidden class="anchor" aria-hidden="true" href="#第八章安全最佳实践">#</a></h2>
<h3 id="81-前端安全">8.1 前端安全<a hidden class="anchor" aria-hidden="true" href="#81-前端安全">#</a></h3>
<p><strong>XSS防护</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 输入验证和转义
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">escapeHtml</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">text</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">map</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&amp;&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&amp;amp;&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&lt;&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&amp;lt;&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&gt;&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&amp;gt;&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&#34;&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&amp;quot;&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#39;&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&amp;#039;&#39;</span>
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/[&amp;&lt;&gt;&#34;&#39;]/g</span>, (<span style="color:#a6e22e">m</span>) =&gt; <span style="color:#a6e22e">map</span>[<span style="color:#a6e22e">m</span>]);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Content Security Policy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(<span style="color:#e6db74">&#39;Content-Security-Policy&#39;</span>, 
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;default-src &#39;self&#39;; &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;script-src &#39;self&#39; &#39;unsafe-inline&#39; https://cdn.example.com; &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;style-src &#39;self&#39; &#39;unsafe-inline&#39; https://fonts.googleapis.com; &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;font-src &#39;self&#39; https://fonts.gstatic.com; &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;img-src &#39;self&#39; data: https:; &#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;connect-src &#39;self&#39; https://api.example.com&#34;</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p><strong>CSRF防护</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">csrf</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;csurf&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">csrfProtection</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">csrf</span>({ <span style="color:#a6e22e">cookie</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">csrfProtection</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/form&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">render</span>(<span style="color:#e6db74">&#39;form&#39;</span>, { <span style="color:#a6e22e">csrfToken</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">csrfToken</span>() });
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/process&#39;</span>, <span style="color:#a6e22e">csrfProtection</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 处理表单数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#39;数据已处理&#39;</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h3 id="82-后端安全">8.2 后端安全<a hidden class="anchor" aria-hidden="true" href="#82-后端安全">#</a></h3>
<p><strong>身份验证</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">jwt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;jsonwebtoken&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bcrypt</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;bcrypt&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 用户注册
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/api/register&#39;</span>, <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">email</span>, <span style="color:#a6e22e">password</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 密码哈希
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">saltRounds</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">hashedPassword</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">bcrypt</span>.<span style="color:#a6e22e">hash</span>(<span style="color:#a6e22e">password</span>, <span style="color:#a6e22e">saltRounds</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">User</span>.<span style="color:#a6e22e">create</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">email</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">password</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">hashedPassword</span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 生成JWT
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">jwt</span>.<span style="color:#a6e22e">sign</span>(
</span></span><span style="display:flex;"><span>            { <span style="color:#a6e22e">userId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">email</span> },
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">JWT_SECRET</span>,
</span></span><span style="display:flex;"><span>            { <span style="color:#a6e22e">expiresIn</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;24h&#39;</span> }
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">token</span>, <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">email</span> } });
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">error</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">400</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span> });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 身份验证中间件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">authenticateToken</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">authHeader</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;authorization&#39;</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">authHeader</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">authHeader</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">token</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">sendStatus</span>(<span style="color:#ae81ff">401</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">jwt</span>.<span style="color:#a6e22e">verify</span>(<span style="color:#a6e22e">token</span>, <span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">JWT_SECRET</span>, (<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">user</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">err</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">sendStatus</span>(<span style="color:#ae81ff">403</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">user</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>输入验证</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">validationResult</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;express-validator&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">validateUser</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span>(<span style="color:#e6db74">&#39;email&#39;</span>).<span style="color:#a6e22e">isEmail</span>().<span style="color:#a6e22e">normalizeEmail</span>(),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span>(<span style="color:#e6db74">&#39;password&#39;</span>).<span style="color:#a6e22e">isLength</span>({ <span style="color:#a6e22e">min</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">8</span> }).<span style="color:#a6e22e">matches</span>(<span style="color:#e6db74">/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span>(<span style="color:#e6db74">&#39;name&#39;</span>).<span style="color:#a6e22e">trim</span>().<span style="color:#a6e22e">isLength</span>({ <span style="color:#a6e22e">min</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">max</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">50</span> }).<span style="color:#a6e22e">escape</span>(),
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">errors</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">validationResult</span>(<span style="color:#a6e22e">req</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">isEmpty</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>(<span style="color:#ae81ff">400</span>).<span style="color:#a6e22e">json</span>({ <span style="color:#a6e22e">errors</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">array</span>() });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>, <span style="color:#a6e22e">validateUser</span>, <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 处理验证后的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span></code></pre></div><h3 id="83-数据安全">8.3 数据安全<a hidden class="anchor" aria-hidden="true" href="#83-数据安全">#</a></h3>
<p><strong>数据库安全</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 参数化查询防止SQL注入
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">getUserById</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> (<span style="color:#a6e22e">userId</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">query</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SELECT * FROM users WHERE id = $1&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">pool</span>.<span style="color:#a6e22e">query</span>(<span style="color:#a6e22e">query</span>, [<span style="color:#a6e22e">userId</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">rows</span>[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 敏感数据加密
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">crypto</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;crypto&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">encrypt</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">text</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">algorithm</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;aes-256-gcm&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">crypto</span>.<span style="color:#a6e22e">scryptSync</span>(<span style="color:#a6e22e">process</span>.<span style="color:#a6e22e">env</span>.<span style="color:#a6e22e">ENCRYPTION_KEY</span>, <span style="color:#e6db74">&#39;salt&#39;</span>, <span style="color:#ae81ff">32</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">iv</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">crypto</span>.<span style="color:#a6e22e">randomBytes</span>(<span style="color:#ae81ff">16</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cipher</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">crypto</span>.<span style="color:#a6e22e">createCipher</span>(<span style="color:#a6e22e">algorithm</span>, <span style="color:#a6e22e">key</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">encrypted</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cipher</span>.<span style="color:#a6e22e">update</span>(<span style="color:#a6e22e">text</span>, <span style="color:#e6db74">&#39;utf8&#39;</span>, <span style="color:#e6db74">&#39;hex&#39;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">encrypted</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">cipher</span>.<span style="color:#66d9ef">final</span>(<span style="color:#e6db74">&#39;hex&#39;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">encrypted</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">iv</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">iv</span>.<span style="color:#a6e22e">toString</span>(<span style="color:#e6db74">&#39;hex&#39;</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">tag</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cipher</span>.<span style="color:#a6e22e">getAuthTag</span>().<span style="color:#a6e22e">toString</span>(<span style="color:#e6db74">&#39;hex&#39;</span>)
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h2 id="第九章现代开发工具链">第九章：现代开发工具链<a hidden class="anchor" aria-hidden="true" href="#第九章现代开发工具链">#</a></h2>
<h3 id="91-开发环境配置">9.1 开发环境配置<a hidden class="anchor" aria-hidden="true" href="#91-开发环境配置">#</a></h3>
<p><strong>VS Code配置</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// .vscode/settings.json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;editor.formatOnSave&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;editor.codeActionsOnSave&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;source.fixAll.eslint&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;emmet.includeLanguages&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;javascript&#34;</span>: <span style="color:#e6db74">&#34;javascriptreact&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;typescript.preferences.importModuleSpecifier&#34;</span>: <span style="color:#e6db74">&#34;relative&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;files.associations&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;*.css&#34;</span>: <span style="color:#e6db74">&#34;tailwindcss&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>开发工具推荐</strong></p>
<ul>
<li>代码编辑器：VS Code、WebStorm、Sublime Text</li>
<li>版本控制：Git、GitHub Desktop</li>
<li>API测试：Postman、Insomnia</li>
<li>数据库管理：DBeaver、TablePlus</li>
<li>设计工具：Figma、Sketch、Adobe XD</li>
</ul>
<h3 id="92-调试技巧">9.2 调试技巧<a hidden class="anchor" aria-hidden="true" href="#92-调试技巧">#</a></h3>
<p><strong>前端调试</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 控制台调试
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;用户数据:&#39;</span>, <span style="color:#a6e22e">user</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">table</span>(<span style="color:#a6e22e">users</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">group</span>(<span style="color:#e6db74">&#39;API调用&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;请求:&#39;</span>, <span style="color:#a6e22e">request</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;响应:&#39;</span>, <span style="color:#a6e22e">response</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">groupEnd</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 断点调试
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">debugger</span>; <span style="color:#75715e">// 在代码中设置断点
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 性能分析
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">time</span>(<span style="color:#e6db74">&#39;数据处理&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 处理数据的代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">timeEnd</span>(<span style="color:#e6db74">&#39;数据处理&#39;</span>);
</span></span></code></pre></div><p><strong>后端调试</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// 日志记录
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">winston</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;winston&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">logger</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">createLogger</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;info&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">format</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">format</span>.<span style="color:#a6e22e">combine</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">format</span>.<span style="color:#a6e22e">timestamp</span>(),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">format</span>.<span style="color:#a6e22e">errors</span>({ <span style="color:#a6e22e">stack</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span> }),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">format</span>.<span style="color:#a6e22e">json</span>()
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">transports</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">transports</span>.<span style="color:#a6e22e">File</span>({ <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;error.log&#39;</span>, <span style="color:#a6e22e">level</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;error&#39;</span> }),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">transports</span>.<span style="color:#a6e22e">File</span>({ <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;combined.log&#39;</span> }),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">transports</span>.<span style="color:#a6e22e">Console</span>({
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">format</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">winston</span>.<span style="color:#a6e22e">format</span>.<span style="color:#a6e22e">simple</span>()
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 使用日志
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">info</span>(<span style="color:#e6db74">&#39;用户登录&#39;</span>, { <span style="color:#a6e22e">userId</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">123</span>, <span style="color:#a6e22e">ip</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">ip</span> });
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;数据库连接失败&#39;</span>, { <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">error</span>.<span style="color:#a6e22e">message</span> });
</span></span></code></pre></div><h3 id="93-测试策略">9.3 测试策略<a hidden class="anchor" aria-hidden="true" href="#93-测试策略">#</a></h3>
<p><strong>单元测试</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// Jest测试示例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">calculateTotal</span>, <span style="color:#a6e22e">validateEmail</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./utils&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#39;工具函数测试&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test</span>(<span style="color:#e6db74">&#39;计算总价&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            { <span style="color:#a6e22e">price</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">quantity</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span> },
</span></span><span style="display:flex;"><span>            { <span style="color:#a6e22e">price</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">quantity</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span> }
</span></span><span style="display:flex;"><span>        ];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">calculateTotal</span>(<span style="color:#a6e22e">items</span>)).<span style="color:#a6e22e">toBe</span>(<span style="color:#ae81ff">35</span>);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test</span>(<span style="color:#e6db74">&#39;邮箱验证&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">validateEmail</span>(<span style="color:#e6db74">&#39;test@example.com&#39;</span>)).<span style="color:#a6e22e">toBe</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">validateEmail</span>(<span style="color:#e6db74">&#39;invalid-email&#39;</span>)).<span style="color:#a6e22e">toBe</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p><strong>集成测试</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// API测试
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">request</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;supertest&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;../app&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#39;用户API&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">test</span>(<span style="color:#e6db74">&#39;创建用户&#39;</span>, <span style="color:#66d9ef">async</span> () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">userData</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;测试用户&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">email</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;test@example.com&#39;</span>
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">request</span>(<span style="color:#a6e22e">app</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">post</span>(<span style="color:#e6db74">&#39;/api/users&#39;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">userData</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">expect</span>(<span style="color:#ae81ff">201</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">name</span>).<span style="color:#a6e22e">toBe</span>(<span style="color:#a6e22e">userData</span>.<span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">email</span>).<span style="color:#a6e22e">toBe</span>(<span style="color:#a6e22e">userData</span>.<span style="color:#a6e22e">email</span>);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h2 id="第十章职业发展建议">第十章：职业发展建议<a hidden class="anchor" aria-hidden="true" href="#第十章职业发展建议">#</a></h2>
<h3 id="101-技能发展路径">10.1 技能发展路径<a hidden class="anchor" aria-hidden="true" href="#101-技能发展路径">#</a></h3>
<p><strong>初级开发者（0-2年）</strong></p>
<ul>
<li>掌握HTML、CSS、JavaScript基础</li>
<li>学习一个前端框架（React/Vue/Angular）</li>
<li>了解基本的后端开发</li>
<li>熟悉Git版本控制</li>
<li>学会使用开发工具</li>
</ul>
<p><strong>中级开发者（2-5年）</strong></p>
<ul>
<li>深入理解框架原理</li>
<li>掌握性能优化技巧</li>
<li>学习系统设计基础</li>
<li>了解DevOps和部署</li>
<li>提升代码质量意识</li>
</ul>
<p><strong>高级开发者（5年+）</strong></p>
<ul>
<li>架构设计能力</li>
<li>技术选型决策</li>
<li>团队协作和领导力</li>
<li>业务理解能力</li>
<li>持续学习新技术</li>
</ul>
<h3 id="102-学习资源推荐">10.2 学习资源推荐<a hidden class="anchor" aria-hidden="true" href="#102-学习资源推荐">#</a></h3>
<p><strong>在线课程平台</strong></p>
<ul>
<li>Coursera：大学课程</li>
<li>Udemy：实用技能课程</li>
<li>Pluralsight：技术深度课程</li>
<li>freeCodeCamp：免费编程课程</li>
<li>MDN Web Docs：权威文档</li>
</ul>
<p><strong>技术社区</strong></p>
<ul>
<li>GitHub：开源项目</li>
<li>Stack Overflow：问题解答</li>
<li>Reddit：技术讨论</li>
<li>掘金：中文技术社区</li>
<li>思否：开发者问答</li>
</ul>
<p><strong>书籍推荐</strong></p>
<ul>
<li>《JavaScript高级程序设计》</li>
<li>《深入理解计算机系统》</li>
<li>《设计模式》</li>
<li>《重构：改善既有代码的设计》</li>
<li>《代码整洁之道》</li>
</ul>
<h3 id="103-项目实践建议">10.3 项目实践建议<a hidden class="anchor" aria-hidden="true" href="#103-项目实践建议">#</a></h3>
<p><strong>个人项目</strong></p>
<ul>
<li>从简单开始，逐步增加复杂度</li>
<li>选择感兴趣的技术栈</li>
<li>注重代码质量和文档</li>
<li>部署到线上环境</li>
<li>开源分享经验</li>
</ul>
<p><strong>开源贡献</strong></p>
<ul>
<li>从修复小bug开始</li>
<li>阅读优秀项目代码</li>
<li>参与社区讨论</li>
<li>建立个人品牌</li>
<li>积累项目经验</li>
</ul>
<h2 id="结语">结语<a hidden class="anchor" aria-hidden="true" href="#结语">#</a></h2>
<p>Web开发是一个不断发展的领域，新技术和新工具层出不穷。作为开发者，我们需要保持持续学习的心态，跟上技术发展的步伐。</p>
<p>记住，技术只是工具，真正重要的是解决问题的能力。无论选择哪种技术栈，都要注重基础知识的掌握，培养良好的编程习惯，并始终保持对新技术的好奇心。</p>
<p>希望这份指南能够帮助你在Web开发的道路上走得更远。记住，每一个专家都曾经是初学者，每一个复杂的系统都从简单的代码开始。</p>
<p><strong>继续学习，持续进步，享受编程的乐趣！</strong></p>
<hr>
<p><em>本文档将随着技术发展持续更新，欢迎提出建议和反馈。</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/wanghan-blog/tags/web%E5%BC%80%E5%8F%91/">Web开发</a></li>
      <li><a href="http://localhost:1313/wanghan-blog/tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
      <li><a href="http://localhost:1313/wanghan-blog/tags/%E5%90%8E%E7%AB%AF/">后端</a></li>
      <li><a href="http://localhost:1313/wanghan-blog/tags/%E5%85%A8%E6%A0%88/">全栈</a></li>
      <li><a href="http://localhost:1313/wanghan-blog/tags/%E6%95%99%E7%A8%8B/">教程</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/wanghan-blog/posts/untitled/">
    <span class="title">« 上一页</span>
    <br>
    <span>一个新尝试</span>
  </a>
  <a class="next" href="http://localhost:1313/wanghan-blog/posts/misc/first-post/">
    <span class="title">下一页 »</span>
    <br>
    <span>我的第一篇Hugo博客</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on x"
            href="https://x.com/intent/tweet/?text=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a&amp;url=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f&amp;hashtags=Web%e5%bc%80%e5%8f%91%2c%e5%89%8d%e7%ab%af%2c%e5%90%8e%e7%ab%af%2c%e5%85%a8%e6%a0%88%2c%e6%95%99%e7%a8%8b">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f&amp;title=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a&amp;summary=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a&amp;source=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f&title=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on whatsapp"
            href="https://api.whatsapp.com/send?text=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a%20-%20http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on telegram"
            href="https://telegram.me/share/url?text=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a&amp;url=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Web开发完整指南：从入门到精通 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Web%e5%bc%80%e5%8f%91%e5%ae%8c%e6%95%b4%e6%8c%87%e5%8d%97%ef%bc%9a%e4%bb%8e%e5%85%a5%e9%97%a8%e5%88%b0%e7%b2%be%e9%80%9a&u=http%3a%2f%2flocalhost%3a1313%2fwanghan-blog%2fposts%2ftech-notes%2fweb-development-complete-guide%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z"/>
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>
<footer class="footer">
  <span>&copy; 2025 <a href="http://localhost:1313/wanghan-blog/">王涵的个人博客</a></span>
  <span>
    Powered by
    <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
    <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
  </span>
  <div>
  <span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
  </span>
</div></footer>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.js"></script>
    
    <script src="/wanghan-blog/js/custom.js"></script>
</body>

</html>
