# 笔记上传指南

## 🎯 快速上手指南

### 1. 文件位置
- ✅ **正确位置**：`content/posts/你的笔记名称.md`
- ❌ **错误位置**：`content/posts/子目录/你的笔记名称.md`

### 2. 文件命名规范
- 使用中文文件名（如：`计算机系统概论课程笔记.md`）
- 避免在文件名中使用特殊字符
- 不要创建子目录来存放单个文件

### 3. 文件头部配置（Front Matter）
每个笔记文件开头必须包含以下配置：

```yaml
---
title: 你的笔记标题
date: 2025-09-04T21:00:00+08:00  # 使用ISO 8601格式
draft: false  # 设为false才会显示在网站上
math: true    # 如果包含数学公式，必须设为true
tags:
  - 标签1
  - 标签2
categories:
  - 分类名称
description: 笔记的简短描述
---
```

## 📝 数学公式使用指南

### 行内公式
使用单个美元符号包围：
```markdown
这是一个行内公式：$T_{\text{old}} = 100$
```

### 块级公式
使用双美元符号包围：
```markdown
$$T_{\text{new}} = T_{\text{old}} \left[ (1 - a) + \frac{a}{k} \right]$$
```

### 复杂公式示例
```markdown
$$TAdd_w(u,v)=\left\{\begin{matrix}
u+v+2^w&u+v<TMin_w&NegOver/向下溢出\\
u+v&TMin_w\leq u+v\leq TMax_w&\\
u+v-2^w&Tmax_w<u+v&PosOver/向上溢出
\end{matrix}\right.$$
```

## ⚠️ 常见问题与解决方案

### 问题1：文章重复显示
**原因**：同一个文件存在于多个位置
**解决**：
- 检查 `content/posts/` 目录下是否有重复文件
- 删除子目录中的重复文件
- 确保只有一个文件在正确位置

### 问题2：数学公式不显示
**原因**：文件头部缺少 `math: true` 配置
**解决**：
- 在文件头部添加 `math: true`
- 确保使用正确的公式语法（$ 或 $$）
- 刷新浏览器页面

### 问题3：文章404错误
**原因**：文件位置错误或配置问题
**解决**：
- 检查文件是否在 `content/posts/` 目录下
- 确认 `draft: false`
- 重启Hugo服务器

## 🚀 上传新笔记的标准流程

### 步骤1：准备文件
1. 创建新的 `.md` 文件
2. 添加正确的文件头部配置
3. 编写笔记内容

### 步骤2：放置文件
```bash
# 将文件放在正确位置
cp 你的笔记.md content/posts/
```

### 步骤3：启动服务器（如果未运行）
```bash
hugo server --bind="0.0.0.0" --baseURL="http://localhost:1313" --port=1313 --disableFastRender
```

### 步骤4：验证
1. 访问 `http://localhost:1313`
2. 检查文章是否正确显示
3. 验证数学公式是否正常渲染

## 📁 目录结构示例

```
content/
└── posts/
    ├── 计算机系统概论课程笔记.md  ✅ 正确
    ├── 数学公式测试.md           ✅ 正确
    └── 其他笔记.md               ✅ 正确
```

## 🔧 技术细节

### MathJax配置
- 使用MathJax 3.x版本
- 支持LaTeX语法
- 自动处理行内和块级公式
- 配置位置：`layouts/partials/mathjax.html`

### Hugo配置
- 使用Hugo v0.149.0+
- 支持中文文件名
- 自动生成URL别名
- 支持数学公式渲染

## 📞 遇到问题时的检查清单

1. ✅ 文件是否在 `content/posts/` 目录下？
2. ✅ 文件头部是否包含 `draft: false`？
3. ✅ 如果包含数学公式，是否设置了 `math: true`？
4. ✅ 是否有重复文件？
5. ✅ Hugo服务器是否正在运行？
6. ✅ 浏览器是否已刷新？

## 💡 最佳实践

1. **文件命名**：使用描述性的中文名称
2. **内容组织**：使用清晰的标题层级
3. **数学公式**：复杂公式建议使用块级格式
4. **标签分类**：合理使用tags和categories
5. **定期备份**：重要笔记建议备份到Git

---

*最后更新：2025-09-04*